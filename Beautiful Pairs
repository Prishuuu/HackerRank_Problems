int beautifulPairs(vector<int> A, vector<int> B) {
    unordered_map<int, int> freqA, freqB;
    int beautifulPairsCount = 0;

    for (int i = 0; i < A.size(); i++) {
        freqA[A[i]]++;
        freqB[B[i]]++;
    }

    for (const auto& entry : freqA) {
        int element = entry.first;
        int countInA = entry.second;
        int countInB = freqB[element];
        beautifulPairsCount += min(countInA, countInB);
    }

    if (beautifulPairsCount < A.size()) {
        return beautifulPairsCount + 1;
    } else {
        return beautifulPairsCount - 1;
    }
}
